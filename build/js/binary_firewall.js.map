{"version":3,"sources":["build/js/binary_firewall.js"],"names":[],"mappings":"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","file":"build/js/binary_firewall.js","sourcesContent":["/**\r\n * Created by davide on 16/03/2015.\r\n */\r\n\r\nconsole.log(\"Binary Firewall Game || Version 0.1 || Davide Aversa 2015 (c)\");\r\n\r\n/*****************************************************************************\r\n GENERAL UTILITY\r\n/*****************************************************************************/\r\n\r\n/**\r\n * Convert a number into its binary representation.\r\n * @param num the input number.\r\n * @returns {String} The result binary string.\r\n */\r\nfunction num2binary(num) { \r\n    let res = num.toString(2);\r\n    // Res must be padded with 0s until totalLanes is reached.\r\n    while (res.length < 5) {\r\n        res = \"0\" + res;\r\n    }\r\n    return res;\r\n}\r\n\r\nclass GameData {\r\n    constructor() {\r\n        this.phaser_game = new Phaser.Game(300, 600, Phaser.AUTO, 'binary-firewall', { preload: preload, create: create, render: render, update: update });\r\n        this.playerLife = 10;\r\n        this.enemies = [];\r\n        this.friendly = [];\r\n        this.lifeBar = new LifeBar(this.playerLife, this);\r\n        this.score = 0;\r\n\r\n        // Configurations\r\n        this.margin = 25;\r\n        this.totalLanes = 5;\r\n\r\n    }\r\n\r\n    getXByLane(lane) {\r\n        return this.margin + lane * ( (300 - 2*this.margin)/(this.totalLanes-1));\r\n    }\r\n\r\n    /**\r\n     * check if the binary representation is an overflow respect the maximum number of lane in the current game.\r\n     * @param num The input number.\r\n     * @returns {boolean}\r\n     */\r\n    numIsOverflow(num) {\r\n        return num > Math.pow(2,this.totalLanes)-1;\r\n    }\r\n}\r\n\r\nclass EnemyPackage {\r\n    constructor(index, game, lane) {\r\n        let halfSpriteSize = 12;\r\n        let x = game.getXByLane(lane) - halfSpriteSize;\r\n        let y = 200;\r\n\r\n        this.speed = 0.2; // TODO: It should be dependant of match time! :)\r\n\r\n        this.game = game;\r\n        this.lane = lane;\r\n        this.name = index.toString();\r\n        this.mainSprite = game.packages.create(x,y,'en_nose', 0);\r\n        this.animation = this.mainSprite.animations.add('walk');\r\n        this.animation.play(2, true);\r\n    }\r\n\r\n    update() {\r\n        this.mainSprite.y += this.speed;\r\n        if (this.mainSprite.y >= 450) { // TODO: Make this parametric!\r\n            this.enemyHit();\r\n        }\r\n    }\r\n\r\n    destroy(){\r\n        this.mainSprite.destroy();\r\n        let index = game.enemies.indexOf(this);\r\n        if (index > -1) {\r\n            game.enemies.splice(index,1);\r\n        }\r\n    }\r\n\r\n    enemyHit() {\r\n        this.game.lifeBar.decreaseLife();\r\n        console.log(\"ENEMY HIT: PlayerLife = \" + this.game.lifeBar.lifePoints);\r\n        this.destroy();\r\n    }\r\n}\r\n\r\nclass FriendlyPackage {\r\n    constructor(index, game, lane) {\r\n        let halfSpriteSize = 12;\r\n        let x = game.getXByLane(lane) - halfSpriteSize;\r\n        let y = 200;\r\n\r\n        this.speed = 0.2; // TODO: It should be dependant of match time! :)\r\n        this.game = game;\r\n        this.lane = lane;\r\n        this.name = index.toString();\r\n        this.mainSprite = game.packages.create(x,y,'friendly', 0);\r\n        this.animation = this.mainSprite.animations.add('walk');\r\n        this.animation.play(2, true);\r\n    }\r\n\r\n    update() {\r\n        this.mainSprite.y += this.speed;\r\n        if (this.mainSprite.y >= 450) { // TODO: Make this parametric!\r\n            this.friendlyHit();\r\n        }\r\n    }\r\n\r\n    friendlyHit() {\r\n        this.mainSprite.destroy();\r\n        game.score += 1;\r\n    }\r\n}\r\n\r\nclass PlayerBullet {\r\n    constructor(index, game, lane) {\r\n        this.size = 24;\r\n        var x = game.getXByLane(lane);\r\n        x = x - this.size/2; // Center the sprite on the lane.\r\n        var y = 400;\r\n\r\n        this.speed = 6;\r\n        this.name = \"PlayerBullet\" + String(index);\r\n        this.game = game;\r\n        this.mainSprite = this.game.gBullets.create(x,y,'bullet');\r\n    }\r\n\r\n    update() {\r\n        this.mainSprite.y -= this.speed;\r\n        // Handle bullets out of the screen.\r\n        if (this.mainSprite.y < -10) {\r\n            this.destroyOnExit();\r\n        }\r\n    }\r\n\r\n    destroyOnExit() {\r\n        this.mainSprite.destroy();\r\n        let index = game.bullets.indexOf(this);\r\n        if (index > -1) {\r\n            game.bullets.splice(index,1);\r\n        } else {\r\n            console.log(\"BAD!\");\r\n        }\r\n    }\r\n\r\n    render() {\r\n\r\n    }\r\n}\r\n\r\nclass LifeBar {\r\n    constructor(maxLife, game, deathCallback) {\r\n        this.maxLife = maxLife;\r\n        this.lifePoints  = maxLife;\r\n        this.game = game;\r\n        this.deathCallback = deathCallback;\r\n        this.initialized = false;\r\n    }\r\n\r\n    init() {\r\n        if (!this.initialized) {\r\n            this.lifeSpriteElements = [];\r\n            for (let i = 0; i < this.lifePoints; i++) {\r\n                this.lifeSpriteElements.push(this.game.uiElements.create((24+5)*i,0,'hearth'));\r\n            }\r\n        }\r\n    }\r\n\r\n    decreaseLife() {\r\n        this.lifePoints = Math.max(0,this.lifePoints-1);\r\n        this.lifeSpriteElements[this.lifePoints].visible = false;\r\n        if (this.lifePoints <= 0) {\r\n            this.deathCallback();\r\n            return;\r\n        }\r\n\r\n\r\n    }\r\n\r\n    increaseLife() {\r\n        this.lifePoints = Math.min(this.maxLife, this.lifePoints+1);\r\n        this.lifeSpriteElements[this.lifePoints-1].visible = true;\r\n    }\r\n\r\n    drawUI() {\r\n        this.mainSprite = this.game.uiElements.create(0,0,'hearth');\r\n    }\r\n}\r\n\r\n/**\r\n * Spawn a wave of enemy/friends.\r\n */\r\nfunction spawn() {\r\n    /**\r\n     * Generate a random array of size \"size\" with random elements picked in the value array.\r\n     * @param values\r\n     * @param size\r\n     */\r\n    let randomArray = function(values, size) {\r\n        let result = [];\r\n        for (let i=0;i<size;i++) {\r\n            result.push(values[Math.floor(Math.random() * values.length)]);\r\n        }\r\n        return result;\r\n    };\r\n    let pattern = randomArray([0,1,2], 5);\r\n    for (let i=0;i<pattern.length;i++) {\r\n            switch (pattern[i]) {\r\n                case 1:\r\n                    game.enemies.push(new EnemyPackage(1, game, i));\r\n                    break;\r\n                case 2:\r\n                    game.enemies.push(new FriendlyPackage(1, game, i));\r\n                    break;\r\n            }\r\n    }\r\n}\r\n\r\nvar game = new GameData();\r\ngame.numberBuffer = \"00\";\r\ngame.numberBufferIndex = 0;\r\ngame.bufferSize = 2;\r\n\r\n/**\r\n * Add the current number to the input buffer.\r\n * @param num A 1-digit number.\r\n */\r\nfunction numKeyPressed(num) {\r\n    if (num <0 || num >= 10) { return; } // Nothing to do. TODO: Explicit error.\r\n    var index = game.numberBufferIndex;\r\n    game.numberBuffer = game.numberBuffer.substr(0, index) + num + game.numberBuffer.substr(index+1);\r\n    game.numberBufferIndex = (game.numberBufferIndex+1>=2) ? 0 :game.numberBufferIndex+1 ;\r\n    console.log(\"DEBUG: \" + game.numberBuffer);\r\n}\r\n\r\n/**\r\n * Preforms the shoot action.\r\n */\r\nfunction shoot() {\r\n    var num = parseInt(game.numberBuffer,10);\r\n    if (game.numIsOverflow(num)){\r\n        console.log(\"Overflow!\");\r\n    } else {\r\n        var stringCode =num2binary(num);\r\n        for (var i=0;i<stringCode.length;i++) {\r\n            if (stringCode[i] === '1') {\r\n                game.bullets.push(new PlayerBullet(1,game,i));\r\n            }\r\n        }\r\n    }\r\n    game.numberBuffer = \"00\";\r\n    game.numberBufferIndex = 0;\r\n}\r\n\r\nfunction inizializeInput() {\r\n    let pgame = game.phaser_game;\r\n    // Setup Numeric Input\r\n    // TODO: What does that \"this\" mean?\r\n    pgame.input.keyboard.addKey(Phaser.Keyboard.ONE).onDown.add(() => numKeyPressed(1), this);\r\n    pgame.input.keyboard.addKey(Phaser.Keyboard.TWO).onDown.add(() => numKeyPressed(2), this);\r\n    pgame.input.keyboard.addKey(Phaser.Keyboard.THREE).onDown.add(() => numKeyPressed(3), this);\r\n    pgame.input.keyboard.addKey(Phaser.Keyboard.FOUR).onDown.add(() => numKeyPressed(4), this);\r\n    pgame.input.keyboard.addKey(Phaser.Keyboard.FIVE).onDown.add(() => numKeyPressed(5), this);\r\n    pgame.input.keyboard.addKey(Phaser.Keyboard.SIX).onDown.add(() => numKeyPressed(6), this);\r\n    pgame.input.keyboard.addKey(Phaser.Keyboard.SEVEN).onDown.add(() => numKeyPressed(7), this);\r\n    pgame.input.keyboard.addKey(Phaser.Keyboard.EIGHT).onDown.add(() => numKeyPressed(8), this);\r\n    pgame.input.keyboard.addKey(Phaser.Keyboard.NINE).onDown.add(() => numKeyPressed(9), this);\r\n    pgame.input.keyboard.addKey(Phaser.Keyboard.ZERO).onDown.add(() => numKeyPressed(0), this);\r\n\r\n    // Setup Shoot Input\r\n    pgame.input.keyboard.addKey(Phaser.Keyboard.SPACEBAR).onDown.add(shoot, this);\r\n}\r\n\r\nfunction preload() {\r\n    game.phaser_game.load.spritesheet('numbers','assets/font_number_sprite.png', 45, 45);\r\n    game.phaser_game.load.spritesheet('en_nose','assets/enemy_nose24x30.png',24,30);\r\n    game.phaser_game.load.spritesheet('friendly','assets/friendly_thing24x30.png',24,30);\r\n    game.phaser_game.load.image('bullet','assets/bullet24x24.png');\r\n    game.phaser_game.load.image('hearth','assets/hearth24x24.png');\r\n}\r\n\r\nfunction create() {\r\n    let pgame = game.phaser_game;\r\n    pgame.renderer.renderSession.roundPixels = true;\r\n\r\n    // Setup Group for Enemies/Friendly Packages\r\n    game.packages = game.phaser_game.add.group();\r\n    game.packages.enableBody = true;\r\n    game.packages.physicsBodyType = Phaser.Physics.ARCADE;\r\n\r\n    // Setup Group for Bullets\r\n    game.gBullets = game.phaser_game.add.group();\r\n    game.gBullets.enableBody = true;\r\n    game.gBullets.physicsBodyType = Phaser.Physics.ARCADE;\r\n\r\n    game.uiElements = game.phaser_game.add.group();\r\n\r\n    game.enemies = [];\r\n    game.enemies.push(new EnemyPackage(1,game,0));\r\n    game.enemies.push(new EnemyPackage(2,game,1));\r\n    game.enemies.push(new FriendlyPackage(2,game,2));\r\n    game.enemies.push(new EnemyPackage(2,game,3));\r\n\r\n    game.bullets = [];\r\n\r\n    game.textGUICode = pgame.add.text(pgame.world.centerX, 550, game.numberBuffer, { font: \"65px Arial\", fill: \"#ffffff\", align: \"center\" } );\r\n    game.textGUICode.anchor.set(0.5);\r\n\r\n    // Draw Line\r\n    var graphics = game.phaser_game.add.graphics(0, 0);\r\n    graphics.lineStyle(8, 0x33FF00);\r\n    graphics.moveTo(0,500);\r\n    graphics.lineTo(300, 500);\r\n\r\n    inizializeInput();\r\n    game.lifeBar.init();\r\n\r\n    pgame.time.events.loop(Phaser.Timer.SECOND * 3, spawn, this);\r\n}\r\n\r\nfunction render() {\r\n    game.textGUICode.text = game.numberBuffer;\r\n    game.bullets.forEach((x) => x.render());\r\n}\r\n\r\nfunction collisionHandler(bullet, pack) {\r\n    bullet.kill();\r\n    pack.kill();\r\n}\r\n\r\nfunction update() {\r\n    game.bullets.forEach((x) => x.update());\r\n    game.enemies.forEach((x) => x.update());\r\n\r\n    // Check Collisions Between Bullets and Packages\r\n    game.phaser_game.physics.arcade.overlap(game.gBullets, game.packages, collisionHandler, null, this);\r\n}\r\n/* jshint latedef: true */"]}